<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MTL-Technics</title>
  <link rel="icon" type="image/png" href="skill-development_18510323.png" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: #333;
      line-height: 1.6;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      text-align: center;
      margin-bottom: 2rem;
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    .header h1 {
      font-size: 2.5rem;
      color: #476561;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .header .brand {
      display: inline-block;
      font-weight: 700;
      letter-spacing: 0.5px;
    }

    .header .blue-t {
      color: #1e90ff;
    }

    .address {
      font-size: 1.2rem;
      color: #666;
      margin-bottom: 0.5rem;
    }

    .coordinates {
      font-size: 1rem;
      color: #999;
      font-family: monospace;
    }

    .maps-link {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.75rem 1.5rem;
      background: #1e90ff;
      color: white;
      text-decoration: none;
      border-radius: 25px;
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(66, 133, 244, 0.3);
    }

    .maps-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(66, 133, 244, 0.4);
      text-decoration: none;
      color: white;
    }

    .maps-link i {
      margin-right: 0.5rem;
    }

    .map-container {
      background: white;
      border-radius: 15px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    .map-container h2 {
      color: #476561;
      margin-bottom: 1rem;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    #map {
      height: 400px;
      width: 100%;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .info-card {
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }

    .info-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
    }

    .info-card h3 {
      color: #476561;
      margin-bottom: 1rem;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .info-card .icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(45deg, #ff6b35, #e55a2e);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
    }

    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid #ff6b35;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 10px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .data-item {
      padding: 0.5rem 0;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .data-item:last-child {
      border-bottom: none;
    }

    .data-label {
      font-weight: 600;
      color: #476561;
    }

    .data-value {
      color: #666;
      font-family: monospace;
    }

    .error {
      color: #e74c3c;
      font-style: italic;
    }

    .success {
      color: #27ae60;
    }

    .weather-icon {
      font-size: 2rem;
      margin: 1rem 0;
      text-align: center;
    }

    .temperature {
      font-size: 2.5rem;
      font-weight: bold;
      color: #ff6b35;
      text-align: center;
      margin: 1rem 0;
    }

    .stock-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem;
      margin: 0.5rem 0;
      background: #f8f9fa;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .stock-item:hover {
      background: #e9ecef;
      transform: translateX(5px);
    }

    .stock-name {
      font-weight: bold;
      color: #476561;
    }

    .stock-value {
      font-family: monospace;
      font-weight: bold;
    }

    .office-status {
      padding: 1rem;
      border-radius: 10px;
      margin: 1rem 0;
      text-align: center;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .office-open {
      background: linear-gradient(45deg, #27ae60, #2ecc71);
      color: white;
    }

    .office-closed {
      background: linear-gradient(45deg, #e74c3c, #c0392b);
      color: white;
    }

    .office-weekend {
      background: linear-gradient(45deg, #f39c12, #e67e22);
      color: white;
    }

    .office-vacation {
      background: linear-gradient(45deg, #9b59b6, #8e44ad);
      color: white;
    }

    .positive {
      color: #27ae60;
    }

    .negative {
      color: #e74c3c;
    }

    .quote-container {
      background: linear-gradient(45deg, #476561, #5a7975);
      color: white;
      padding: 2rem;
      border-radius: 15px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .quote-container::before {
      content: '"';
      font-size: 8rem;
      position: absolute;
      top: -2rem;
      left: 1rem;
      opacity: 0.2;
      font-family: Georgia, serif;
    }

    .quote-text {
      font-size: 1.2rem;
      font-style: italic;
      margin-bottom: 1rem;
      position: relative;
      z-index: 2;
    }

    .quote-author {
      font-size: 1rem;
      opacity: 0.8;
      position: relative;
      z-index: 2;
    }

    .news-item {
      padding: 1rem;
      border-left: 4px solid #ff6b35;
      margin: 1rem 0;
      background: #f8f9fa;
      border-radius: 0 8px 8px 0;
      transition: all 0.3s ease;
    }

    .news-item:hover {
      background: #e9ecef;
      transform: translateX(5px);
    }

    .news-title {
      font-weight: bold;
      color: #476561;
      margin-bottom: 0.5rem;
    }

    .news-source {
      font-size: 0.9rem;
      color: #999;
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      .header h1 {
        font-size: 2rem;
      }
      
      .info-grid {
        grid-template-columns: 1fr;
      }
      
      #map {
        height: 300px;
      }
    }

    ::-webkit-scrollbar {
      width: 0px;
      overscroll-behavior-y: auto;
      overflow-x: hidden;
      overflow-block: auto;
    }

    ::-webkit-scrollbar-thumb {
        background-color: transparent;
        display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>
          M<span class="blue-t">T</span>L-<span class="blue-t">T</span>echnics
        </h1>

      <div class="address">Vaartkant Rechts 8, 2960 Brecht, België</div>
      <div class="coordinates" id="coordinates">Coördinaten laden...</div>
      <a href="#" class="maps-link" id="google-maps-link" target="_blank">
        <i class="fas fa-map-marked-alt"></i>Open Google Maps
      </a>
    </div>

    <div class="map-container">
      <h2><i class="fas fa-map-marker-alt"></i> Locatie</h2>
      <div id="map"></div>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <h3><span class="icon"><i class="fas fa-cloud-sun"></i></span> Het weer in Brecht</h3>
        <div id="weather-content">
          <div class="loading"></div>Weer-informatie voor werkdag laden...
        </div>
      </div>

      <div class="info-card">
        <h3><span class="icon"><i class="fas fa-clock"></i></span> Kantooruren</h3>
        <div id="office-content">
          <div class="loading"></div>Bedrijfsinformatie laden...
        </div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const adres = "Vaartkant Rechts 8, 2960 Brecht, België";
    const openCageApiKey = "8a0b0c268bcc4383894251c492824610";

    const googleMapsUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(adres)}`;
    document.getElementById('google-maps-link').href = googleMapsUrl;

    const vacationPeriods = [
      { start: '2024-12-21', end: '2025-01-06', name: 'Kerstvakantie' },
      
      { start: '2025-04-14', end: '2025-04-28', name: 'Paasvakantie' },

      { start: '2025-07-01', end: '2025-08-31', name: 'Zomervakantie' },

      { start: '2025-10-27', end: '2025-11-02', name: 'Herfstvakantie' },
      
      { start: '2025-12-22', end: '2026-01-05', name: 'Kerstvakantie' },

    ];

    const belgianHolidays = [
      '2025-01-01',
      '2025-04-21',
      '2025-05-01',
      '2025-05-29',
      '2025-06-09',
      '2025-07-21',
      '2025-08-15',
      '2025-11-01',
      '2025-11-11',
      '2025-12-25',
    ];

    function isVacationPeriod(date) {
      const dateStr = date.toISOString().split('T')[0];
      
      if (belgianHolidays.includes(dateStr)) {
        return { isVacation: true, name: 'Feestdag', type: 'holiday' };
      }
      
      for (let period of vacationPeriods) {
        if (dateStr >= period.start && dateStr <= period.end) {
          return { isVacation: true, name: period.name, type: 'vacation' };
        }
      }
      
      return { isVacation: false };
    }

    fetch(`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(adres)}&key=${openCageApiKey}&language=nl&limit=1`)
      .then(response => response.json())
      .then(data => {
        if (data.results && data.results.length > 0) {
          const { lat, lng } = data.results[0].geometry;
          
          document.getElementById('coordinates').textContent = `${lat.toFixed(6)}, ${lng.toFixed(6)}`;

          const map = L.map('map').setView([lat, lng], 17);

          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
          }).addTo(map);

          const customIcon = L.divIcon({
            className: 'custom-marker',
            html: '<i class="fas fa-map-marker-alt" style="color: #ff6b35; font-size: 30px;"></i>',
            iconSize: [30, 30],
            iconAnchor: [15, 30]
          });

          L.marker([lat, lng], { icon: customIcon })
            .addTo(map)
            .bindPopup(`<b>MTL-Technics</b><br>${adres}`)
            .openPopup();

          loadWeatherData(lat, lng);
        } else {
          document.getElementById('map').innerHTML = '<p class="error">Adres niet gevonden.</p>';
          document.getElementById('coordinates').textContent = 'Coördinaten niet beschikbaar';
        }
      })
      .catch(err => {
        document.getElementById('map').innerHTML = '<p class="error">Fout bij het laden van de kaart.</p>';
        document.getElementById('coordinates').textContent = 'Fout bij laden coördinaten';
        console.error(err);
      });

    async function loadWeatherData(lat, lng) {
      try {

        const weatherResponse = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&appid=demo&units=metric&lang=nl`);
        
        if (!weatherResponse.ok) {

          const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lng}&current_weather=true&timezone=auto`);
          const data = await response.json();
          
          if (data.current_weather) {
            const weather = data.current_weather;
            const weatherCode = getWeatherDescription(weather.weathercode);
            
            document.getElementById('weather-content').innerHTML = `
              <div class="temperature">${Math.round(weather.temperature)}°C</div>
              <div class="data-item">
                <span class="data-label">Beschrijving:</span>
                <span class="data-value">${weatherCode}</span>
              </div>
              <div class="data-item">
                <span class="data-label">Windsnelheid:</span>
                <span class="data-value">${weather.windspeed} km/h</span>
              </div>
              <div class="data-item">
                <span class="data-label">Windrichting:</span>
                <span class="data-value">${weather.winddirection}°</span>
              </div>
            `;
          }
        }
      } catch (error) {
        document.getElementById('weather-content').innerHTML = '<p class="error">Kon weer niet laden</p>';
      }
    }

    function loadOfficeStatus() {
      const now = new Date();
      const day = now.getDay();
      const hour = now.getHours();
      const minutes = now.getMinutes();
      const currentTime = hour + minutes / 60;
      
      const vacationStatus = isVacationPeriod(now);
      
      let status, statusClass, nextChange;
      
      if (vacationStatus.isVacation) {
        status = `VAKANTIE - ${vacationStatus.name}`;
        statusClass = "office-vacation";
        nextChange = "Openingstijd onbekend";
        
        document.getElementById('office-content').innerHTML = `
          <div class="office-status ${statusClass}">
            ${status}
          </div>
          <div class="data-item">
            <span class="data-label">Status:</span>
            <span class="data-value">${nextChange}</span>
          </div>
          <div class="data-item">
            <span class="data-label">Periode:</span>
            <span class="data-value">${vacationStatus.name}</span>
          </div>
          <div class="data-item">
            <span class="data-label">Contact:</span>
            <span class="data-value">+32 (0)475 93 73 58</span>
          </div>
          <div class="data-item">
            <span class="data-label">Info:</span>
            <a href="index.html#contact" class="data-value">Neem contact op voor urgente zaken</a>
          </div>
        `;
        return;
      }

      if (day >= 1 && day <= 5) {
        if (currentTime >= 8 && currentTime < 17) {
          status = "OPEN - Kantooruren";
          statusClass = "office-open";
          const closeHour = 17;
          const hoursLeft = Math.floor(closeHour - currentTime);
          const minutesLeft = Math.floor((closeHour - currentTime - hoursLeft) * 60);
          nextChange = `Sluit over ${hoursLeft}u ${minutesLeft}m`;
        } else if (currentTime < 8) {
          status = "GESLOTEN - Voor kantooruren";
          statusClass = "office-closed";
          const hoursLeft = Math.floor(8 - currentTime);
          const minutesLeft = Math.floor((8 - currentTime - hoursLeft) * 60);
          nextChange = `Opent over ${hoursLeft}u ${minutesLeft}m`;
        } else {
          status = "GESLOTEN - Na kantooruren";
          statusClass = "office-closed";
          nextChange = "Opent morgen om 8:00";
        }
      } else {
        status = "WEEKEND - Gesloten";
        statusClass = "office-weekend";
        nextChange = day === 0 ? "Opent maandag om 8:00" : "Opent maandag om 8:00";
      }
      
      document.getElementById('office-content').innerHTML = `
        <div class="office-status ${statusClass}">
          ${status}
        </div>
        <div class="data-item">
          <span class="data-label">Werkdagen:</span>
          <span class="data-value">Ma-Vr, 8:00-17:00</span>
        </div>
        <div class="data-item">
          <span class="data-label">Status:</span>
          <span class="data-value">${nextChange}</span>
        </div>
        <div class="data-item">
          <span class="data-label">Contact:</span>
          <span class="data-value">+32 (0)475 93 73 58</span>
        </div>
      `;
    }

    function getWeatherDescription(code) {
      const descriptions = {
        0: 'Helder',
        1: 'Overwegend helder',
        2: 'Gedeeltelijk bewolkt',
        3: 'Bewolkt',
        45: 'Mist',
        48: 'Rijpmist',
        51: 'Lichte motregen',
        53: 'Matige motregen',
        55: 'Dichte motregen',
        61: 'Lichte regen',
        63: 'Matige regen',
        65: 'Zware regen',
        71: 'Lichte sneeuw',
        73: 'Matige sneeuw',
        75: 'Zware sneeuw',
        95: 'Onweer',
        96: 'Onweer met hagel',
        99: 'Zwaar onweer met hagel'
      };
      return descriptions[code] || 'Onbekend';
    }

    loadOfficeStatus();

    setInterval(() => {
      loadOfficeStatus();
    }, 60000);
  </script>
</body>
</html>